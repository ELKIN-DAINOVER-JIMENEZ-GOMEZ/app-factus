<nav class="sticky top-0 z-50 bg-white border-b border-gray-200 shadow-sm">
  <div class="max-w-screen-2xl mx-auto px-6 h-16 flex items-center gap-4">

    <!-- LEFT: Logo (ancho fijo para balancear) -->
    <div class="flex items-center w-48">
      <!-- Logo -->
      <a routerLink="/dashboard" class="flex items-center gap-3 text-gray-900 font-semibold text-lg hover:opacity-80">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQgQb8EohZOoy3jbbqfk0OFEYXlVfJMiYBXpw&s" 
             alt="Factus Logo" 
             class="w-14 h-14 rounded-md object-cover">
        <span class="hidden md:inline ">RETO FACTUS</span>
      </a>
    </div>

    <!-- CENTER: Desktop Nav (ocupa el espacio restante y distribuye contenido) -->
    <div class="hidden lg:flex flex-1 items-center justify-center">
      <div class="flex items-center justify-between gap-2 w-full max-w-3xl">
        <a *ngFor="let item of navItems"
           [routerLink]="item.route"
           class="flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition"
           [ngClass]="isActiveRoute(item.route) ? 'text-white bg-indigo-600' : 'text-gray-500 hover:bg-gray-50 hover:text-gray-900'">
          <svg *ngIf="item.icon === 'home'" width="20" height="20" fill="none" stroke="currentColor">
            <path d="M3 7l7-4 7 4v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M7 17V11h6v6" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <svg *ngIf="item.icon === 'receipt'" width="20" height="20" fill="none" stroke="currentColor">
            <path d="M7 4h8a2 2 0 012 2v10l-2-1-2 1-2-1-2 1-2-1-2 1V6a2 2 0 012-2z" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M7 8h6M7 12h6" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <svg *ngIf="item.icon === 'document'" width="20" height="20" fill="none" stroke="currentColor">
            <path d="M5 2h8l4 4v10a2 2 0 01-2 2H5a2 2 0 01-2-2V4a2 2 0 012-2z" stroke-width="1.5" stroke-linecap="round"/>
            <path d="M13 2v4h4M7 10h6M7 14h4" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <svg *ngIf="item.icon === 'users'" width="20" height="20" fill="none" stroke="currentColor">
            <path d="M14 17v-2a4 4 0 00-4-4H6a4 4 0 00-4 4v2M10 7a4 4 0 11-8 0 4 4 0 018 0zM19 17v-2a4 4 0 00-3-3.87M14 3.13a4 4 0 010 7.75" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <svg *ngIf="item.icon === 'cube'" width="20" height="20" fill="none" stroke="currentColor">
            <path d="M3 7l7-4 7 4M3 7l7 4m-7-4v10l7 4m7-14l-7 4m7-4v10l-7 4m0-8v8" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          <svg *ngIf="item.icon === 'shop'" width="20" height="20" fill="none" stroke="currentColor">
            <path d="M3 3h14l-1 10H4L3 3zM3 3l1-2h12l1 2M7 13v6M13 13v6" stroke-width="1.5" stroke-linecap="round"/>
          </svg>
          

          <span class="whitespace-nowrap">{{ item.label }}</span>
          <span *ngIf="item.badge" class="ml-1 bg-indigo-600 text-white text-xs font-semibold px-2 py-0.5 rounded-full">
            {{ item.badge }}
          </span>
        </a>
      </div>
    </div>

    <!-- RIGHT: Icons + User (ancho fijo para balancear con el logo) -->
    <div class="flex items-center justify-end gap-6 w-48">

      <!-- Toggle Dark Theme -->
      <button (click)="toggleDarkTheme()"
              class="w-9 h-9 flex items-center justify-center rounded-md text-gray-500 hover:bg-gray-50 hover:text-gray-900 transition"
              [title]="isDarkTheme() ? 'Tema Claro' : 'Tema Oscuro'">
        <!-- Sol (tema claro) -->
        <svg *ngIf="isDarkTheme()" width="20" height="20" fill="none" stroke="currentColor">
          <circle cx="10" cy="10" r="4" stroke-width="1.5"/>
          <path d="M10 2v2M10 16v2M18 10h-2M4 10H2M15.66 4.34l-1.42 1.42M5.76 14.24l-1.42 1.42M15.66 15.66l-1.42-1.42M5.76 5.76L4.34 4.34" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <!-- Luna (tema oscuro) -->
        <svg *ngIf="!isDarkTheme()" width="20" height="20" fill="none" stroke="currentColor">
          <path d="M17 10a7 7 0 11-7-7 5 5 0 007 7z" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
      </button>

     

      <!-- Logout Button -->
      <button (click)="logout()" 
              class="flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium text-red-600 border border-red-200 hover:bg-red-50 transition">
        <svg width="18" height="18" fill="none" stroke="currentColor">
          <path d="M6 14H3a1 1 0 01-1-1V3a1 1 0 011-1h3M11 11l3-3-3-3M14 8H6" stroke-width="1.5" stroke-linecap="round"/>
        </svg>
        <span class="hidden sm:inline">Cerrar sesi√≥n</span>
      </button>

      <!-- Mobile hamburger -->
      <button class="lg:hidden w-10 h-10 flex items-center justify-center rounded-md text-gray-900 hover:bg-gray-50"
              (click)="toggleMobileMenu()">
        <svg *ngIf="!isMobileMenuOpen" width="24" height="24" fill="none" stroke="currentColor">
          <path d="M3 6h18M3 12h18M3 18h18" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <svg *ngIf="isMobileMenuOpen" width="24" height="24" fill="none" stroke="currentColor">
          <path d="M6 6l12 12M6 18L18 6" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile Menu -->
  <div *ngIf="isMobileMenuOpen" class="lg:hidden flex flex-col gap-1 px-4 py-3 border-t border-gray-200 bg-white animate-slide-down">
    <a *ngFor="let item of navItems"
       [routerLink]="item.route"
       class="flex items-center justify-between px-3 py-3 rounded-md text-sm font-medium text-gray-600 hover:bg-gray-50 hover:text-gray-900 transition"
       [class]="isActiveRoute(item.route) ? 'text-indigo-600 bg-indigo-50' : ''">
      <span>{{ item.label }}</span>
      <span *ngIf="item.badge" class="bg-indigo-600 text-white text-xs font-semibold px-2 py-0.5 rounded-full">
        {{ item.badge }}
      </span>
    </a>
  </div>
</nav>

<style>
@keyframes fade-in {
  from { opacity: 0; transform: translateY(-4px); }
  to { opacity: 1; transform: translateY(0); }
}
@keyframes slide-down {
  from { max-height: 0; opacity: 0; }
  to { max-height: 500px; opacity: 1; }
}
.animate-fade-in { animation: fade-in 0.2s ease-out; }
.animate-slide-down { animation: slide-down 0.3s ease-out; }
</style>